<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN">
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <title>My dear M</title>
  <link rel = "stylesheet" type = "text/css" href = "Snapshots.css" media = "screen"/>
  <script>
  function prepareGallery() {
    if(!document.getElementsByTagName) return false;
    if(!document.getElementById) return false;
    if(!document.getElementById("imagegallery")) return false;
    var gallery = document.getElementById("imagegallery");
    var links = gallery.getElementsByTagName("a");
    for( var i = 0; i<links.length; i++){
      links[i].onclick = function(){
        return showPic(this);
      }
    }
  }
  function showPic(whichpic) {
    if(!document.getElementById("placeholder")) return true;
  	var source = whichpic.getAttribute('href');
  	var placeholder = document.getElementById('placeholder');
  	placeholder.setAttribute("src", source);//对id=palcehoder的节点属性做出修改
    if(!document.getElementById("description")) return false;
  	var text = whichpic.getAttribute("title");
  	var description = document.getElementById("description");
  	description.firstChild.nodeValue = text;//利用nodeValue属性刷新P元素的文本内容
    return false;
  }
  function preparePlaceholder(){
    var placeholder = document.createElement("img");
    placeholder.setAttribute("id", "placeholder");
    placeholder.setAttribute("src", "5.jpg");
    placeholder.setAttribute("alt", "my image gallery");
    var description = document.createElement("p");
    description.setAttribute("id", "description");
    var desctext = document.createTextNode("Choose a image");
    description.appendChild(desctext);
    /*var ck = document.getElementById("ck");
    body.insertBefore(palceholder, ck);
    body.parentNode.insertBefore(description, ck);*/

    document.body.appendChild(placeholder);
    document.body.appendChild(description);
  }
  window.onload = function(){
    prepareGallery();
    win();
    preparePlaceholder();
  }
  /*window.onload = countBodyChildren;
    function countBodyChildren() {
  	var body_element = document.getElementsByTagName('body')[0];
  	alert (body_element.nodeType);//或者.childNodes.length是显示全体子元素
    }*/
  function popUp(winurl){
    window.open(winurl,"popUp","width = 320,height = 480");//点击窗口onclick = "popUp(this.href); return false;"
  }
  function win(){
    var ch = document.getElementById("ck");
    ch.onclick = function(){
      popUp(this.href);
      return false;
    }
    
  }

  
  </script>
</head>

<body>
<h1>Snapshots</h1>

<ul id="imagegallery">
  <li><a href="F:\HTML\1.jpg" title = "one">photo1</a>
  <li><a href="F:\HTML\2.jpg" title = "two">photo2</a>
  <li><a href="F:\HTML\3.jpg" title = "three">photo3</a>
  <li><a href="F:\HTML\4.jpg" title = "four">photo4</a>
</ul>
<a href = "http://www.billyh.cn/ziti.html"  id = "ck">windows</a>
</body>
</html>                         

